# Kubectl Cheatsheet

> [!IMPORTANT]  
> This cheatsheet is customized for cplus environment usage. Most of the commands require including a namespace.

> Commands reference: https://spacelift.io/blog/kubernetes-cheat-sheet  

## Cluster Context  
> Cluster context defines access to a specific Kubernetes cluster.

#### Display a list of contexts  
```
$ kubectl config get-contexts
```

#### Set the default context  
```
$ kubectl config use-context <cluster_name>
```

## Namespaces
> Kubernetes namespace is a logical partition within a cluster that isolates groups of 
> resources for organizational or access control purposes. Each namespace maintains its 
> own scope for namespaced resources such as Pods, Services, Deployments, and ConfigMaps.

#### List all namespaces in the cluster
```
$ kubectl get namespaces
```

## Pod
> Kubernetes pod is the smallest deployable unit in Kubernetes, consisting of one or 
> more containers that share the same network namespace and storage volumes.

#### List one or more pods
```
$ kubectl -n <namespace> get pods
```

#### Get an interactive shell on a single-container pod
```
$ kubectl exec -it -n <namespace> <pod_name> -- /bin/sh
```

## Log
> Kubernetes logs refer to the output generated by containers, used to monitor and debug 
> applications running within a Kubernetes environment.

#### Print the logs for a pod
```
$ kubectl -n <namespace> logs <pod_name>
```

#### Print the logs for a pod and follow new logs
```
$ kubectl -n <namespace> logs -f <pod_name>
```

#### Get the most recent 50 lines of logs
```
$ kubectl -n <namespace> logs --tail=50 <pod_name>
```

## ReplicaSets
> Kubernetes ReplicaSet ensures a specified number of identical pod replicas are running at all times

#### Scale a ReplicaSet 
```
$ kubectl -n <namespace> scale --replicas=[x] <pod_name>
```
> scale down ( x = 0 ), scale up ( x > 0 )  
  